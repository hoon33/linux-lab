# 🕑 3. 파일·디렉토리 다루기 실습 

## 🎯 목표

리눅스에서 **파일 생성, 이동, 삭제, 복사, 검색, 출력, 텍스트 처리, 파이프 사용**을 익히고  
head/tail 실습을 위해 실제 로그 파일을 직접 생성해본다.

* * *

# 💻 실습

* * *

# 🧩 사전 실습 — 로그 파일 생성하기 (head/tail 준비)

100줄짜리 로그 파일 생성:

```bash
for i in {1..100}; do 
  echo "INFO Line $i - Sample log message"; 
done > sample.log
```

실제 같은 로그 파일:

```bash
for i in {1..150}; do
  if (( i % 15 == 0 )); then
    echo "ERROR Something failed at step $i"
  elif (( i % 10 == 0 )); then
    echo "WARN Potential issue detected at $i"
  else
    echo "INFO Normal operation line $i"
  fi
done > system.log
```

* * *

## 🧩 실습 1 — 파일 복사 (cp)

```bash
cp source.txt backup.txt
cp -r src_folder dst_folder
```

* * *

## 🧩 실습 2 — 파일 이동 또는 이름 변경 (mv)

```bash
mv oldname.txt newname.txt
mv file.txt /root/workspace/logs/
```

* * *

## 🧩 실습 3 — 파일 삭제 (rm)

```bash
rm file.txt
rm -r target_folder
```

### ⚠️ 삭제 명령의 원리 설명

- `rm`은 휴지통이 없음
- 삭제 즉시 파일이 사라짐
- `rm -r`은 폴더까지 재귀적으로 삭제

### ❌ 절대 입력하면 안 되는 명령어

```bash
rm -rf /
```

**이 명령은 리눅스 시스템 전체를 삭제하는 최악의 명령어로,  
Docker 컨테이너든 실제 서버든 시스템이 완전히 파괴됩니다.**

- `/` = 시스템 전체 루트 디렉토리
- `rm -rf` = 묻지도 따지지도 않고 강제 삭제

* * *

## 🧩 실습 4 — 파일 검색 (find)

```bash
find . -name "*.txt"
find /root/workspace -type f -name "error*"
```

* * *

## 🧩 실습 5 — 파일 내용 출력 (cat)

```bash
cat sample.log
```

* * *

## 🧩 실습 6 — 파일 일부 보기 (head / tail)

```bash
head sample.log
tail sample.log
```

대용량 파일(옵션):

```bash
for i in {1..1000}; do echo "DEBUG $i"; done > big.log
head big.log
tail big.log
```

* * *

## 🧩 실습 7 — 파일을 페이지 단위로 보기 (less)

```bash
less sample.log
```

(종료: `q`)

* * *

## 🧩 실습 8 — 여러 파일 합치기

```bash
cat a.txt b.txt > all.txt
```

* * *

## 🧩 실습 9 — 특정 단어 포함된 줄 찾기 (grep)

```bash
grep "error" all.txt
grep "ERROR" system.log
```

* * *

## 🧩 실습 10 — 파이프 사용

```bash
cat all.txt | grep "error"
grep "WARN" system.log | head
```

* * *

# 📘 실습 요약

| 기능  | 명령어 |
| --- | --- |
| 복사  | `cp`, `cp -r` |
| 이동/이름 변경 | `mv` |
| 삭제  | `rm`, `rm -r` |
| 검색  | `find` |
| 출력  | `cat`, `head`, `tail`, `less` |
| 텍스트 필터링 | `grep` |
| 파일 병합 | `cat a b > c` |
| 파이프 | \`  |
| 로그 생성 | `echo`, `for`, 리다이렉션 |

* * *

# 🎯 추가 실습

```
log 폴더를 만들고  
system.txt 파일에서  
ERROR로 시작하는 줄만 모아  
log/error_summary.txt 파일로 저장하세요.
```

### 힌트

- `mkdir log`
- `grep "^ERROR"`
- `>` 리다이렉션